<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />
    <title>登录</title>
    <link th:href="@{/css/bootstrap.css}" href="../static/css/bootstrap.css" rel="stylesheet" />
    <link th:href="@{/css/login.css}" href="../static/css/login.css" rel="stylesheet" />
</head>

<body>
    <div class="container">
        <div class="row" style="margin-top:200px">
            <div style="text-align:center;margin-bottom: 50px">
                <img class="logo" th:src="@{/image/logo.png}" src="../static/image/logo.png" />
            </div>
            <div class="col-md-4 col-md-offset-4 col-xs-8 col-xs-offset-2">
                <form id="registerform" class="form-signin" th:action="@{/api/adduser}" method="GET">
                    <label for="inputEmail" class="sr-only">Email address</label>
                    <input type="email" id="inputEmail" class="form-control" placeholder="Email address" required="" autofocus="" name="email">
                    <br/>
                    <label for="inputPassword" class="sr-only">Password</label>
                    <input type="password" id="inputPassword" class="form-control" placeholder="Password" required="" name="password">
                    <br/><label for="inputPassword" class="sr-only">Password</label>
                    <input type="password" id="inputPasswordagain" class="form-control" placeholder="Password" required="">
                    <input name="role" value="admin" style="display:none">
                    <!-- 
                    <div class="checkbox">
                        <label style="color: white">
                        <input type="checkbox" value="remember-me"> 记住我
                        </label>
                    </div>
                     -->
                    <br />
                    <button class="btn btn-lg btn-primary btn-block" type="submit" onclick="saveReport();return false;">注册</button>
                </form>
                <br/>
                <p class="text-center"><a th:href="@{/login}" >返回</a></p>
            </div>
        </div>
    </div>


    <script th:src="@{/js/jquery.min.js}" src="../static/js/jquery.min.js"></script>
    <script th:src="@{/js/bootstrap.min.js}" src="../static/js/bootstrap.min.js"></script>
    <script th:src="@{/js/jquery.form.min.js}" src="../static/js/jquery.form.min.js"></script>
    <script>
    function saveReport() { 
    	// jquery 表单提交 
    	if($("#registerform input")[1].value!=$("#registerform input")[2].value){
    		alert("输入密码不一致");
    		return false;	
    	}
    	$("#registerform").ajaxSubmit(function(message) { 
    		window.location.href="login";
    	}); 
    	return false; // 必须返回false，否则表单会自己再做一次提交操作，并且页面跳转 
    }
    </script>
    
</body>

</html>